# 🏋️‍♂️ Séneca Coach

[![Repository](https://img.shields.io/badge/GitHub-SenecaCoach-blue?logo=github)](https://github.com/alejo1630/seneca_sport/tree/main)

**Séneca Coach** is a digital assistant prototype focused on **health and sports training**.  
The application integrates **Strava data**, **medical documents**, and **user queries** to generate **personalized training plans**, combined with a **sports route planner** that designs routes tailored to the type of exercise and session objectives.  

Built with **Python**, **Gradio**, **Sports APIs**, and **Large Language Models (LLMs)**.

---

## 📌 Key Features

- 📊 **Strava Integration**: Import and automatically organize athlete activities (running, cycling, hiking, swimming, etc.).  
- 🧠 **AI-Powered Digital Assistant**: Generates personalized training plans using **RAG (Retrieval-Augmented Generation)** and LLMs.  
- 🗺️ **Route Planner**:
  - Search locations by name.  
  - Calculate distances between points.  
  - Generate loop routes based on distance or duration.  
  - Retrieve elevation profiles.  
  - Display routes on interactive maps.  
  - Export routes in **GPX format** for Strava, Garmin, or other sports apps.  
- 🌐 **User-Friendly Web Interface**: Built with **Gradio**, accessible from any browser.  
- 📂 **Sample Data**: Includes an example GPX file (`ruta_loop_NW.gpx`) generated by the planner.  

---

## 📂 Repository Structure

- **Strava_Data.ipynb**  
  Notebook for **fetching athlete data from the Strava API**.  
  Each activity record is stored in datasets according to the sport (`run`, `bike`, `hike`, etc.).  

  **Technologies & Tools**:  
  - Strava API  
  - Python requests  
  - Pandas, NumPy for data handling  

---

- **Route_Planner.ipynb**  
  Notebook that implements the **sports route planner** with the following features:  
  1. Search a place by name  
  2. Calculate distances between points  
  3. Generate circular routes (loop) based on time or distance  
  4. Retrieve elevation data and profiles  
  5. Display routes on interactive maps  
  6. Export routes in **GPX format**  

  **Technologies & Tools**:  
  - OpenStreetMap / Nominatim API (location search)  
  - OSRM API (routing & distance calculation)  
  - Open-Elevation API (elevation profiles)  
  - Folium (interactive maps)  
  - gpxpy (GPX export)  
  - Pandas, NumPy  

---

- **SenecaCoach_Prototype_V2.ipynb**  
  Main prototype of the **application**:  
  - Integrates **medical documents, Strava data, and user queries**  
  - Processes information using **Large Language Models (LLMs) and RAG**  
  - Generates **personalized training plans**  
  - Links directly with the route planner  
  - Provides a **web interface** built with **Gradio**  

  **Technologies & Tools**:  
  - Gradio (web interface)  
  - LLMs (Language Models)  
  - Retrieval-Augmented Generation (RAG)  
  - Pandas, NumPy  
  - Python requests  

---

- **ruta_loop_NW.gpx**  
  Example GPX file exported from the route planner.  

---

## 🖼️ Preview

### 🔹 App Interface
![Main](https://raw.githubusercontent.com/alejo1630/seneca_sport/refs/heads/main/Img/Main.jpg)

---

### 🔹 Example Training Plan  
8-week **cycling adventure plan** (80 km, 3200 m elevation gain).  
![Plan](https://raw.githubusercontent.com/alejo1630/seneca_sport/refs/heads/main/Img/Plan.jpg)

---

### 🔹 Generated Route  
![Route](https://raw.githubusercontent.com/alejo1630/seneca_sport/refs/heads/main/Img/Route.jpg)

---

### 🔹 Additional Route Info & Elevation Profile  
![Route Info](https://raw.githubusercontent.com/alejo1630/seneca_sport/refs/heads/main/Img/Route_Info.jpg)

---

## ⚙️ Technologies & Tools

- **Languages & Frameworks**: Python, Gradio, Folium, Pandas, NumPy  
- **APIs**:  
  - [Strava API](https://developers.strava.com/) → extract sports activities  
  - [OpenStreetMap / Nominatim](https://nominatim.org/) → location search  
  - [OSRM](http://project-osrm.org/) → routing & distances  
  - [Open-Elevation API](https://open-elevation.com/) → elevation profiles  
- **Machine Learning / AI**: LLMs, RAG (Retrieval-Augmented Generation)  
- **Data Formats**: GPX (for route export and synchronization with Strava or Garmin)  

---

## 🚀 Installation & Usage

1. Clone the repository:
   ```bash
   git clone https://github.com/alejo1630/seneca_sport.git
   cd seneca_sport
   ```

2. Create a virtual environment and install dependencies:
   ```bash
   python -m venv venv
   source venv/bin/activate   # Linux/Mac
   venv\Scripts\activate      # Windows

   pip install -r requirements.txt
   ```

3. Configure **Strava API credentials** in a `.env` file:
   ```
   STRAVA_CLIENT_ID=xxxxx
   STRAVA_CLIENT_SECRET=xxxxx
   STRAVA_REFRESH_TOKEN=xxxxx
   ```

4. Run the notebooks in Jupyter or launch the Gradio app:
   ```bash
   jupyter notebook
   ```

---

## 📈 Future Improvements

- Integration with **Garmin Connect**  
- Advanced training load metrics (TSS, CTL, ATL)  
- Nutrition recommendations linked to training plans  
- Migration to a **Streamlit** or **FastAPI dashboard** for cloud deployment  

---

## 👤 Author

**Alejandro Castellanos Vargas**  
📍 Soacha, Colombia  
🔗 [LinkedIn](https://www.linkedin.com/in/alejandro-castellanos-vargas)  
🔗 [GitHub](https://github.com/alejo1630)  

---

## 📜 License

This project is distributed under the **MIT License**.  
You are free to use, modify, and share it, as long as proper credit is given.

---
